{% extends 'contests/base.html' %}

{% load static %}

{% block title %}League Teams{% endblock %}

{% block content %}
<div class="container my-5">
    <!-- Navigation Buttons -->
    <div class="d-flex flex-wrap justify-content-between align-items-center mb-4">
        <a href="#" class="btn btn-outline-dark px-4 mb-2 mb-md-0">Previous</a>
        <h3 class="fw-bold text-center mb-2 mb-md-0">Gameweek {{ gameweek }}</h3>
        <a href="#" class="btn btn-outline-dark px-4 mb-2 mb-md-0">Next</a>
    </div>

    <!-- League Banner -->
    <div class="rounded shadow-sm text-center py-5 mb-4" style="background: linear-gradient(to right, #00ffc6, #007bff);">
        <h1 class="fw-bold text-white mb-3">{{ contest.name }} Leaderboard</h1>
        <!-- <p class="text-light">
            <i class="fas fa-bolt me-2"></i> Restricted Budget
        </p>-->
        <p class="text-light">Winner goes home with Kshs {{ contest.prize_pool}} /=</p>
        <a href="#" class="btn btn-dark px-4">Invite Friends &rarr; {{ contest.league_code }}</a> 
    </div>

<!-- Teams Table -->
<div class="table-responsive">
    <table class="table table-dark table-striped rounded border border-secondary">
        <thead class="thead-light">
            <tr>
                <th scope="col" class="text-center">Pos</th>
                <th scope="col">Teams</th>
                <th scope="col" class="text-center">Points</th>
            </tr>
        </thead>
        <tbody>
            {% if teams %}
                {% for team in teams %}
                <tr>
                    <!-- Position -->
                    <td class="align-middle text-center">
                        <!-- {{ forloop.counter }} -->
                          -
                    </td>

                    <!-- Team Details -->
                    <td>
                        <div class="d-flex align-items-center">
                            <!-- Favorite Club Icon -->
                            <div>
                                <img src="{% static 'images/gaolpost-1.png' %}" alt="Goal Post" class="me-3"
                                     style="width: 60px; height: 60px; border-radius: 50%;">
                            </div>
                            <div>
                                <!-- Team Name -->
                                <span class="fw-bold">{{ team.name }}</span><br>
                                <!-- Manager/Owner Username -->
                                <small class="text-muted">Manager: {{ team.user.username }}</small>
                            </div>
                        </div>
                    </td>

                    <!-- Team Score -->
                    <td class="align-middle text-center">
                        {{ team.score|default:"0" }}
                    </td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="3" class="text-center">No teams have joined this league yet.</td>
                </tr>
            {% endif %}
        </tbody>
    </table>
</div>


</div>
{% endblock %}
